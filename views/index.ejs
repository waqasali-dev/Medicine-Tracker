<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medicine web preview</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body class="container" id="main-contrainer">
    <div class="header">
        <nav>
            <ul class="nav-links">
                <li class="home-link"><a href="/">Home</a></li>
                <li class="admin-link"><a href="/admin">Admin Panel</a></li>
            </ul>
        </nav>
    </div>

    <form class="form" method="post" action="/find-alternatives">
        <h1 class="alternative">Find Your Medicine</h1>
        <p class="descript">Enter a medicine name or formula to find alternatives. Dose and age are optional.</p>
        <label for="formula">Input Formula Name</label>
        <input type="text" id="formula" name="formula" placeholder="e.g. Paracetamol">

        <h3 class="separator"> OR </h3>

        <label for="medicineName">Input Medicine Name</label>
        <input type="text" id="medicineName" name="medicineName" placeholder="e.g. Panadol">



        <button id="submit-button" type="submit">Find Alternatives</button>

    </form>

    <% if (alternatives) { %>
        <div class="results">
            <h2>Results</h2>
            <div class="head-container">
                <div class="head head-1">Medicine Name</div>
                <div class="head">Manufacturer</div>
                <div class="head">Formula</div>
                <div class="head">Dose </div>
                <div class="head">Age</div>
                <div class="head head-last">Price</div>
            </div>
            <% alternatives.forEach(alternative=> { %>
                <div class="head-container">
                    <div class="result-item result-item-1">
                        <%= alternative.medicinename %>
                    </div>
                    <div class="result-item">
                        <%= alternative.manufacturer %>
                    </div>
                    <div class="result-item">
                        <%= alternative.formula %>
                    </div>
                    <div class="result-item">
                        <%= alternative.dosage %>
                    </div>
                    <div class="result-item">
                        <%= alternative.agestart %> - <%= alternative.ageend %>
                    </div>
                    <div class="result-item result-item-last">
                        <%= alternative.price %>
                    </div>
                </div>
                <% }); %>
        </div>
        <script>
            // Increase height by 200px for each result
            const mainContainer = document.getElementById('main-contrainer');
            mainContainer.style.height = `${600 + ( alternatives.length * 200)}px`;
        </script>
        <% } %>


</body>

</html>